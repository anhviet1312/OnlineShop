@using ShopOnline.Models.EditModels;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model EditProductDto
@{
}
<form id="editForm" asp-action="Edit" method="post" enctype="multipart/form-data">
    <div class="modal-body">

        <div asp-validation-summary="All" class="text-danger"></div>
        <div class="d-flex w-100">
            <div class="form-group form-input">
                <label asp-for="@Model.Name"></label>
                <input id="update_Name" asp-for="Name" class="form-control" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>

            <div class="form-group form-input">
                <label asp-for="Alias"></label>
                <input id="update_Alias" asp-for="Alias" class="form-control" />
                <span asp-validation-for="Alias" class="text-danger"></span>
            </div>

            <div class="form-group form-input">
                <label asp-for="CategoryID" class="control-label"></label>
                <select id="update_CategoryID" asp-for="CategoryID" class="form-control" asp-items="@(new SelectList(Model.ListCategories, "ID", "Name"))"></select>
            </div>
        </div>

        <div class="d-flex w-100">
            <div class="form-group form-input">
                <label asp-for="ImageUpload" class="control-label"></label>
                <img id="imagePreview" src="~/uploads/@ViewBag.Image" alt="Image Preview" style="max-width: 100px; max-height: 100px;" />
                @*<span id="imageFileName" class="control-label"></span>*@
                <input id="update_Image" asp-for="ImageUpload"  class="form-control" />
                <span asp-validation-for="ImageUpload" class="text-danger"></span>
            </div>
            <div class="form-group form-input">
                <label asp-for="MoreImages" class="control-label"></label>
                <input id="update_MoreImages" asp-for="MoreImages" class="form-control" />
                <span asp-validation-for="MoreImages" class="text-danger"></span>
            </div>
            <div class="form-group form-input">
                <label asp-for="Price" class="control-label"></label>
                <input id="update_Price" asp-for="Price" class="form-control" />
                <span asp-validation-for="Price" class="text-danger"></span>
            </div>


        </div>
        <div class="d-flex w-100">
            <div class="form-group form-input">
                <label asp-for="OriginalPrice" class="control-label"></label>
                <input id="update_OriginalPrice" asp-for="OriginalPrice" class="form-control" />
                <span asp-validation-for="OriginalPrice" class="text-danger"></span>
            </div>
            <div class="form-group form-input">
                <label asp-for="PromotionPrice" class="control-label"></label>
                <input id="update_PromotionPrice" asp-for="PromotionPrice" class="form-control" />
                <span asp-validation-for="PromotionPrice" class="text-danger"></span>
            </div>
            <div class="form-group form-input">
                <label asp-for="Description" class="control-label"></label>
                <input id="update_Description" asp-for="Description" class="form-control" />
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>
        </div>

        <div class="d-flex w-100">
            <div class="form-group form-input">
                <label asp-for="Content" class="control-label"></label>
                <input id="update_Content" asp-for="Content" class="form-control" />
                <span asp-validation-for="Content" class="text-danger"></span>
            </div>
            <div class="form-group form-input">
                <label asp-for="HomeFlag" class="control-label"></label>
                <input id="update_HomeFlag" asp-for="HomeFlag" class="form-control" />
                <span asp-validation-for="HomeFlag" class="text-danger"></span>
            </div>
            <div class="form-group form-input">
                <label asp-for="HotFlag" class="control-label"></label>
                <input id="update_HotFlag" asp-for="HotFlag" class="form-control" />
                <span asp-validation-for="HotFlag" class="text-danger"></span>
            </div>

        </div>

        <div class="d-flex w-100">
            <div class="form-group form-input">
                <label asp-for="ViewCount" class="control-label"></label>
                <input id="update_ViewCount" asp-for="ViewCount" class="form-control" />
                <span asp-validation-for="ViewCount" class="text-danger"></span>
            </div>
            <div class="form-group form-input">
                @{
                    List<SelectListItem> selectedTags = new List<SelectListItem>();
                    foreach (var item in Model.ListTags)
                    {
                        selectedTags.Add(new SelectListItem { Text = item.Name, Value = item.ID });
                    }
                }
                @Html.LabelFor(x => x.ListSelectedTags)
                @Html.ListBoxFor(x => x.ListSelectedTags,
                selectedTags,
                new {@class="w-100", id = "selectrole"})
            </div>
            @*<div class="form-group form-input">
            <label asp-for="ListSelectedTags" class="control-label">Tags</label>
            <select id="update_ListSelectedTags" asp-for="ListSelectedTags" class="form-control" asp-items="@(new SelectList(Model.ListTags, "ID", "Name"))" multiple></select>
            <span asp-validation-for="ListSelectedTags" class="text-danger"></span>
            </div>*@


            <div class="form-group form-input">
                <label asp-for="Quantity" class="control-label"></label>
                <input id="update_Quantity" asp-for="Quantity" class="form-control" />
                <span asp-validation-for="Quantity" class="text-danger"></span>
            </div>
        </div>
        <input type="hidden" id="productId" name="productId" value="@ViewBag.Id" />
        <!-- Include other form fields for editing -->

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary">Save changes</button>
    </div>
</form>